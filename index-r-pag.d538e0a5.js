function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},l=t.parcelRequired7c6;null==l&&((l=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var l={id:e,exports:{}};return n[e]=l,t.call(l.exports,l,l.exports),l.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},t.parcelRequired7c6=l);var o=e(l("3K9yv")).template({1:function(e,t,n,r,l){var o,a=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,i="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'  <li>\n    <a href="'+c(typeof(o=null!=(o=u(n,"url")||(null!=t?u(t,"url"):t))?o:s)===i?o.call(a,{name:"url",hash:{},data:l,loc:{start:{line:3,column:13},end:{line:3,column:20}}}):o)+'" target="_blank" rel="noopener noreferrer">\n      <article>\n        <img src="'+c(typeof(o=null!=(o=u(n,"urlToImage")||(null!=t?u(t,"urlToImage"):t))?o:s)===i?o.call(a,{name:"urlToImage",hash:{},data:l,loc:{start:{line:5,column:18},end:{line:5,column:32}}}):o)+'" alt="" width="480">\n        <h2>'+c(typeof(o=null!=(o=u(n,"title")||(null!=t?u(t,"title"):t))?o:s)===i?o.call(a,{name:"title",hash:{},data:l,loc:{start:{line:6,column:12},end:{line:6,column:21}}}):o)+"</h2>\n        <p>Posted by: "+c(typeof(o=null!=(o=u(n,"author")||(null!=t?u(t,"author"):t))?o:s)===i?o.call(a,{name:"author",hash:{},data:l,loc:{start:{line:7,column:22},end:{line:7,column:32}}}):o)+"</p>\n        <p>"+c(typeof(o=null!=(o=u(n,"description")||(null!=t?u(t,"description"):t))?o:s)===i?o.call(a,{name:"description",hash:{},data:l,loc:{start:{line:8,column:11},end:{line:8,column:26}}}):o)+"</p>\n      </article>\n    </a>\n  </li>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,l){var o;return null!=(o=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l,loc:{start:{line:1,column:0},end:{line:12,column:9}}}))?o:""},useData:!0});const a={headers:{Authorization:"d1e96ddc4e994b60941e5290bbd43e7d"}};const s={searchForm:document.querySelector(".js-search-form"),articlesContainer:document.querySelector(".js-articles-container")},i=new class{getRefs(e){const t={};return t.button=document.querySelector(e),t.label=t.button.querySelector(".label"),t.spinner=t.button.querySelector(".spinner"),t}enable(){this.refs.button.disabled=!1,this.refs.label.textContent="Показать ещё",this.refs.spinner.classList.add("is-hidden")}disable(){this.refs.button.disabled=!0,this.refs.label.textContent="Загружаем...",this.refs.spinner.classList.remove("is-hidden")}show(){this.refs.button.classList.remove("is-hidden")}hide(){this.refs.button.classList.add("is-hidden")}constructor({selector:e,hidden:t=!1}){this.refs=this.getRefs(e),t&&this.hide()}}({selector:'[data-action="load-more"]',hidden:!0}),c=new class{fetchArticles(){const e=`https://newsapi.org/v2/everything?q=${this.searchQuery}&language=en&pageSize=5&page=${this.page}`;return fetch(e,a).then((e=>e.json())).then((({articles:e})=>(this.incrementPage(),e)))}incrementPage(){this.page+=1}resetPage(){this.page=1}get query(){return this.searchQuery}set query(e){this.searchQuery=e}constructor(){this.searchQuery="",this.page=1}};function u(){i.disable(),c.fetchArticles().then((e=>{!function(e){s.articlesContainer.insertAdjacentHTML("beforeend",o(e))}(e),i.enable()}))}console.log(i),s.searchForm.addEventListener("submit",(function(e){if(e.preventDefault(),c.query=e.currentTarget.elements.query.value,""===c.query)return alert("Введи что-то нормальное");i.show(),c.resetPage(),s.articlesContainer.innerHTML="",u()})),i.refs.button.addEventListener("click",u);
//# sourceMappingURL=index-r-pag.d538e0a5.js.map
