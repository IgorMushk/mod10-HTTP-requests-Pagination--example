{"mappings":"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","sources":["src/templates/pokemon-card.hbs","src/js/api-service.js","src/js/01-fetch-api.js","src/js/get-refs.js"],"sourcesContent":["<div class=\"card\">\n  <div class=\"card-img-top\">\n    <img src=\"{{sprites.front_default}}\" alt=\"{{name}}\">\n  </div>\n  <div class=\"card-body\">\n    <h2 class=\"card-title\">Имя: {{name}}</h2>\n    <p class=\"card-text\">Вес: {{weight}}</p>\n    <p class=\"card-text\">Рост: {{height}}</p>\n\n    <p class=\"card-text\"><b>Умения</b></p>\n    <ul class=\"list-group\"></ul>\n    {{#each abilities}}\n      <li class=\"list-group-item\">{{ability.name}}</li>\n    {{/each}}\n    </ul>\n  </div>\n</div>","const BASE_URL = 'https://pokeapi.co/api/v2';\n\nfunction fetchPokemon(pokemonId) {\n  return fetch(`${BASE_URL}/pokemon/${pokemonId}`).then(response =>\n    response.json(),\n  );\n}\n\nexport default { fetchPokemon };\n","/*\n * - HTTP-запросы в браузере\n *  - Fetch API\n *  - Владка Network\n *  - HTTP-методы\n *  - Заголовки\n *  - MIME-типы\n *  - Параметры запроса\n * - Документация REST API\n * - Обработка 404 с fetch\n * - Аутентификация\n * - Библиотеки-обёртки\n * - https://pokeapi.co/\n */\n\n// - 1 -\n// Вернет Promise + then + catch + ...\n// const r = fetch('https://pokeapi.co/api/v2/pokemon/2');\n// console.log(r);\n\n// - 2 -\n// Вернет Response (обьект) это еще не данные - экземпляр класса Response\n// + body это и есть данные, которые нужно расскодировать - 3 метода - blob json text(csv)\n// fetch('https://pokeapi.co/api/v2/pokemon/2').then(data => {\n//   console.log(data);\n// });\n\n// - 3 -\n// Вернет конкретного pokemon-а\n//-fetch('https://pokeapi.co/api/v2/pokemon/2')\n// fetch('https://pokeapi.co/api/v2/pokemon/')\n//   .then(response => {\n//     //console.log(response.json()); // вернет еще один Promise и его возвращаем в следующий then\n//     return response.json();\n//   })\n//   .then(pokemon => console.log(pokemon))\n//   .catch(error => console.log(error));\n\n// - 4 -\n// Добавим шаблоН\n// import '../css/common-r.css';\n// import pokemonCardTpl from '../templates/pokemon-card.hbs';\n// fetch('https://pokeapi.co/api/v2/pokemon/2')\n//   .then(response => {\n//     return response.json();\n//   })\n//   .then(pokemon => {\n//     console.log(pokemon);\n//     const markup = pokemonCardTpl(pokemon);\n//     console.log(markup);\n//   })\n//   .catch(error => console.log(error));\n\n// - 5 - Это и называется AJAX асинхронній JS и XML\n// import '../css/common-r.css';\n// import pokemonCardTpl from '../templates/pokemon-card.hbs';\n\n// const refs = {\n//   cardContainer: document.querySelector('.js-card-container'),\n// };\n\n// fetch('https://pokeapi.co/api/v2/pokemon/2')\n//   .then(response => {\n//     return response.json();\n//   })\n//   .then(pokemon => {\n//     console.log(pokemon);\n//     const markup = pokemonCardTpl(pokemon);\n//     console.log(markup);\n//     refs.cardContainer.innerHTML = markup;\n//   })\n//   .catch(error => console.log(error));\n\n// - 6 - Улучшаем код\n// import '../css/common-r.css';\n// import pokemonCardTpl from '../templates/pokemon-card.hbs';\n\n// const refs = {\n//   cardContainer: document.querySelector('.js-card-container'),\n// };\n\n// fetch('https://pokeapi.co/api/v2/pokemon/2')\n//   .then(response => {\n//     return response.json();\n//   })\n//   .then(renderPokemonCard)\n//   .catch(error => console.log(error));\n\n// function renderPokemonCard(pokemon) {\n//   const markup = pokemonCardTpl(pokemon);\n//   refs.cardContainer.innerHTML = markup;\n// }\n\n// - 7 - Улучшаем код\n// import '../css/common-r.css';\n// import pokemonCardTpl from '../templates/pokemon-card.hbs';\n\n// const refs = {\n//   cardContainer: document.querySelector('.js-card-container'),\n// };\n\n// fetchPokemon();\n\n// function fetchPokemon() {\n//   fetch('https://pokeapi.co/api/v2/pokemon/2')\n//     .then(response => {\n//       return response.json();\n//     })\n//     .then(renderPokemonCard)\n//     .catch(error => console.log(error));\n// }\n\n// function renderPokemonCard(pokemon) {\n//   const markup = pokemonCardTpl(pokemon);\n//   refs.cardContainer.innerHTML = markup;\n// }\n\n// - 8 - Улучшаем код\n// import '../css/common-r.css';\n// import pokemonCardTpl from '../templates/pokemon-card.hbs';\n\n// const refs = {\n//   cardContainer: document.querySelector('.js-card-container'),\n// };\n\n// fetchPokemon()\n//   .then(renderPokemonCard)\n//   .catch(error => console.log(error));\n\n// // Фунция должна вернуть из себя Промис (функция которая забирает данные и\n// // которая рисует данные по хорошему  про друг друга не должны )\n// function fetchPokemon() {\n//   return fetch('https://pokeapi.co/api/v2/pokemon/2').then(response => {\n//     return response.json();\n//   });\n// }\n\n// function renderPokemonCard(pokemon) {\n//   const markup = pokemonCardTpl(pokemon);\n//   refs.cardContainer.innerHTML = markup;\n// }\n\n// - 9 - Делаем настраиваемую функцию (через передачю параметра и интерполяцию)\n// import '../css/common-r.css';\n// import pokemonCardTpl from '../templates/pokemon-card.hbs';\n\n// const refs = {\n//   cardContainer: document.querySelector('.js-card-container'),\n// };\n\n// fetchPokemon(2)\n//   .then(renderPokemonCard)\n//   .catch(error => console.log(error));\n\n// // Фунция должна вернуть из себя Промис (функция которая забирает данные и\n// // которая рисует данные по хорошему  про друг друга не должны )\n// function fetchPokemon(pokemonId) {\n//   return fetch(`https://pokeapi.co/api/v2/pokemon/${pokemonId}`).then(\n//     response => {\n//       return response.json();\n//     }\n//   );\n// }\n\n// function renderPokemonCard(pokemon) {\n//   const markup = pokemonCardTpl(pokemon);\n//   refs.cardContainer.innerHTML = markup;\n// }\n\n// - 10 - Делаем настраиваемую функцию (через передачю параметра и интерполяцию)\n// import '../css/common-r.css';\n// import pokemonCardTpl from '../templates/pokemon-card.hbs';\n\n// const refs = {\n//   cardContainer: document.querySelector('.js-card-container'),\n//   searchForm: document.querySelector('.js-search-form'),\n// };\n\n// refs.searchForm.addEventListener('submit', onSeaarch);\n\n// function onSeaarch(e) {\n//   e.preventDefault();\n\n//   const form = e.currentTarget;\n//   console.log(form.elements);\n//   const searchQuery = form.elements.query.value;\n\n//   fetchPokemon(searchQuery)\n//     .then(renderPokemonCard)\n//     .catch(error => console.log(error))\n//     .finally(() => form.reset());\n// }\n\n// // Фунция должна вернуть из себя Промис (функция которая забирает данные и\n// // которая рисует данные по хорошему  про друг друга не должны )\n// function fetchPokemon(pokemonId) {\n//   return fetch(`https://pokeapi.co/api/v2/pokemon/${pokemonId}`).then(\n//     response => {\n//       return response.json();\n//     }\n//   );\n// }\n\n// function renderPokemonCard(pokemon) {\n//   const markup = pokemonCardTpl(pokemon);\n//   refs.cardContainer.innerHTML = markup;\n// }\n\n//-------------------------------------------------------\nimport '../css/common-r.css';\nimport pokemonCardTpl from '../templates/pokemon-card.hbs';\nimport API from './api-service';\nimport getRefs from './get-refs';\n\nconst refs = getRefs();\n\nrefs.searchForm.addEventListener('submit', onSearch);\n\nfunction onSearch(e) {\n  e.preventDefault();\n\n  const form = e.currentTarget;\n  const searchQuery = form.elements.query.value;\n\n  API.fetchPokemon(searchQuery)\n    .then(renderPokemonCard)\n    .catch(onFetchError)\n    .finally(() => form.reset());\n}\n\nfunction renderPokemonCard(pokemon) {\n  const markup = pokemonCardTpl(pokemon);\n  refs.cardContainer.innerHTML = markup;\n}\n\nfunction onFetchError(error) {\n  alert('Упс, что-то пошло не так и мы не нашли вашего покемона!');\n}\n\n// =========================================\n\n// fetch('https://pokeapi.co/api/v2/pokemon?limit=100&offset=200')\n//   .then(r => r.json())\n//   .then(console.log);\n\n// fetch(\n//   'https://pixabay.com/api/?key=38570888-30e5be38999b280f1014d2377&q=cats&image_type=vector&orientation=vertical'\n// )\n//   .then(r => r.json())\n//   .then(console.log);\n//previewURL : \"https://cdn.pixabay.com/photo/2013/07/13/13/14/tiger-160601_150.png\"\n//webformatURL: \"https://pixabay.com/get/gbac03fc7970b76e64a7b00efd78945cca2559d00d5e0dded0a540772a323ce967984cc6d8cffeb4f62b42d6cb6a9b945_640.png\"\n\n// https://weatherstack.com/ 23eb0a47a81193e24239b74810049765\n// fetch(\n//   'http://api.weatherstack.com/current?access_key=23eb0a47a81193e24239b74810049765&query=London'\n// )\n//   .then(r => r.json())\n//   .then(console.log);\n\nconst url = 'https://newsapi.org/v2/everything?q=cars';\nconst options = {\n  headers: {\n    //Authorization: '4330ebfabc654a6992c2aa792f3173a3',\n    Authorization: 'd1e96ddc4e994b60941e5290bbd43e7d',\n    //X-Api-Key\n  },\n};\n\nfetch(url, options)\n  .then(r => r.json())\n  .then(console.log);\n","export default function getRefs() {\n  return {\n    cardContainer: document.querySelector('.js-card-container'),\n    searchForm: document.querySelector('.js-search-form'),\n  };\n}\n"],"names":["$l5bVx","parcelRequire","$881794b1d62819fe$export$2e2bcd8739ae039","$parcel$interopDefault","template","container","depth0","helpers","partials","data","stack1","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","escapeExpression","lambda","compiler","main","helper","alias1","alias2","nullContext","alias3","hooks","helperMissing","alias4","name","hash","loc","start","line","column","end","fn","program","inverse","noop","useData","$0ed9756ae2b68474$export$2e2bcd8739ae039","fetchPokemon","pokemonId","fetch","concat","then","response","json","$33010803a113876d$var$refs","cardContainer","document","querySelector","searchForm","$33010803a113876d$var$renderPokemonCard","pokemon","markup","innerHTML","$33010803a113876d$var$onFetchError","error","alert","addEventListener","e","preventDefault","form","currentTarget","searchQuery","elements","query","value","catch","finally","reset","headers","Authorization","r","console","log"],"version":3,"file":"01-fetch-api.3fb0ede7.js.map"}